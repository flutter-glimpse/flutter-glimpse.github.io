{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["ReadmeImageTags","attr","gifImageTag","glimpseGif","react_default","a","createElement","pngImageTag","glimpsePng","markup","className","GlimpseViewer","src","displayGlimpse","FAQ","contactLink","href","target","App","linkBase","_useState","useState","_useState2","Object","slicedToArray","repo","setRepo","_useState3","_useState4","branch","setBranch","_useState5","_useState6","path","setPath","_useState7","_useState8","setTarget","_useState9","_useState10","setDisplayGlimpse","isValidRepo","split","filter","Boolean","length","buildLink","ignoreTarget","arguments","undefined","link","concat","encodeURIComponent","onInputChange","value","stateCallback","type","onClick","placeholder","onChange","e","disabled","react_social_icons","url","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.69c7d43b.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../node_modules/milligram/dist/milligram.min.css';\nimport './App.css';\nimport { SocialIcon } from 'react-social-icons';\n\nfunction App() {\n    const linkBase = 'https://flutter-glimpse.tomasdostal.com/';\n\n    const [repo, setRepo] = useState('');\n    const [branch, setBranch] = useState('');\n    const [path, setPath] = useState('');\n    const [target, setTarget] = useState('');\n    const [displayGlimpse, setDisplayGlimpse] = useState(false);\n\n    const isValidRepo = repo.split('/').filter(Boolean).length === 2;\n\n    const glimpseGif = (target) ? buildLink() : '';\n    const glimpsePng = buildLink(true);\n\n    function buildLink(ignoreTarget = false) {\n        if (!isValidRepo) return;\n\n        let link = linkBase;\n\n        link += `?r=${encodeURIComponent(repo)}${branch && encodeURIComponent(`#${branch}`)}${path && encodeURIComponent(`:${path}`)}`;\n\n        if (target && !ignoreTarget) {\n            link += `&t=${encodeURIComponent(target)}`\n        }\n\n        return link;\n    }\n\n    function onInputChange(value, stateCallback) {\n        setDisplayGlimpse(false);\n        stateCallback(value);\n    }\n\n    function prefillExample() {\n        setDisplayGlimpse(false);\n        setRepo('tomino2112/flutter_driver_test');\n        setBranch('');\n        setPath('');\n        setTarget('test_driver/app_showcase');\n        setDisplayGlimpse(true);\n    }\n\n    return (\n        <div className=\"container App\">\n            <div className=\"header\">\n                <h1>Flutter Glimpse</h1>\n                <h3>Display glimpse of your Flutter application. Updated on every push.</h3>\n                <p><span className=\"quote\">A picture is worth a thousand words!</span> You don't have to update screenshot and video of your app on every push to show people what you made. Add a link to the Flutter Glimpse and don't worry about the rest.</p>\n            </div>\n\n            <section>\n                <h4>1. Provide info about your Flutter app <button type=\"button\" className=\"button button-outline button-example\" onClick={prefillExample}>Example</button></h4>\n\n\n                <div className=\"row\">\n                    <div className=\"column column-50\">\n                        <label>Repository <span className=\"required\">*</span> <small> Github username/repository of your Flutter app.</small></label>\n                        <input type=\"text\" value={repo} placeholder=\"username/repository\" onChange={e => onInputChange(e.target.value, setRepo)} />\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"column column-50\">\n                        <label>Branch <small>Repository branch to checkout. Defaults to <strong>master</strong></small></label>\n                        <input type=\"text\" value={branch} placeholder=\"master\" onChange={e => onInputChange(e.target.value, setBranch)} />\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"column column-50\">\n                        <label>Path <small>Path to Flutter app within the repository. Defaults to <strong>/</strong></small></label>\n                        <input type=\"text\" value={path} placeholder=\"path/to/flutter/app\" onChange={e => onInputChange(e.target.value, setPath)} />\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"column column-50\">\n                        <label>Integration test target <small>Path to the integration test to execute (if any)</small></label>\n                        <input type=\"text\" value={target} placeholder=\"test_driver/target\" onChange={e => onInputChange(e.target.value, setTarget)} />\n                    </div>\n                </div>\n            </section>\n\n            <section>\n                <h4>2. Paste image link to your README.md</h4>\n                <ReadmeImageTags\n                    glimpseGif={glimpseGif}\n                    glimpsePng={glimpsePng}>\n                </ReadmeImageTags>\n            </section>\n\n            <section>\n                <GlimpseViewer\n                    displayGlimpse={displayGlimpse}\n                    glimpseGif={glimpseGif}\n                    glimpsePng={glimpsePng}>\n                </GlimpseViewer>\n                <button type=\"button\" onClick={e => setDisplayGlimpse(!displayGlimpse)} disabled={!isValidRepo}>{(displayGlimpse) ? 'Hide' : 'Show'} Glimpse</button>\n            </section>\n\n            <FAQ></FAQ>\n\n            <footer>\n                This project is maintained by <a href=\"https://tomasdostal.com\" target=\"_blank\">Tomas Dostal</a>\n                <SocialIcon url=\"https://twitter.com/tomino2112\" />\n                <SocialIcon url=\"https://www.linkedin.com/in/dostaltomas/\" />\n                <SocialIcon url=\"https://www.github.com/tomino2112\" />\n            </footer>\n        </div>\n    );\n}\n\nfunction ReadmeImageTags(attr) {\n    const gifImageTag = attr.glimpseGif\n        && <div>Video glimpse:<p>{'<img src='+attr.glimpseGif+' width=\"320\" />'}</p></div>;\n\n    const pngImageTag = attr.glimpsePng\n        && <div>Screenshot glimpse:<p>{'<img src='+attr.glimpsePng+' width=\"320\" />'}</p></div>;\n\n    const markup = (gifImageTag || pngImageTag)\n        ? [gifImageTag, pngImageTag]\n        : 'You have to fill in at least repository';\n\n    return <pre className=\"links\">\n        <code>{markup}</code>\n    </pre>;\n}\n\nfunction GlimpseViewer(attr) {\n    const gifImageTag = attr.glimpseGif\n        && <div className=\"column\"><h5>Video Glimpse</h5><img src={attr.glimpseGif} className=\"glimpse\" /></div>;\n\n    const pngImageTag = attr.glimpsePng\n        && <div className=\"column\"><h5>Screenshot Glimpse</h5><img src={attr.glimpsePng} className=\"glimpse\" /></div>;\n\n    const markup = (gifImageTag || pngImageTag) && [gifImageTag, pngImageTag];\n    return <div>\n        { (attr.displayGlimpse) ? <div className=\"row\">{markup}</div> : '' }\n    </div>;\n}\n\nfunction FAQ() {\n    const contactLink = 'https://twitter.com/intent/tweet?screen_name=Tomino2112';\n\n    return <div className=\"faq\">\n        <h3>FAQ</h3>\n\n        <h4>Troubleshooting</h4>\n        <ul>\n            <li>I am seeing a loading bar instead of the glimpse - Glimpse can take between couple of minutes and up to an hour to generate, if you see loading bar it means everything is going well.</li>\n            <li>I am seeing \"broken image\" icon in place - Something must have gone terribly wrong, <a href={contactLink}>contact me!</a></li>\n            <li>I am not seeing anything in place of glimpse - If you are not seeing anything it means there was an issue processing your request. To debug this, send the image request using tool such as <a href=\"https://www.getpostman.com/\" target=\"_blank\">Postman</a> so you can inspect the headers. Error code is included in the \"X-Script-Error\".</li>\n        </ul>\n\n        <table>\n            <thead>\n            <tr>\n                <th>Error Code</th>\n                <th>Description</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr>\n                <td>4000</td>\n                <td>Missing \"repo\" or \"r\" query param</td>\n            </tr>\n            <tr>\n                <td>4001</td>\n                <td>No repository detected within the \"repo\" or \"r\" query param. Repository must be in first place and in format: username/repository</td>\n            </tr>\n            <tr>\n                <td>4002</td>\n                <td>Project at repository/path location does not seem to be Flutter app</td>\n            </tr>\n            <tr>\n                <td>4003</td>\n                <td>Github error - <a href={contactLink}>contact me!</a></td>\n            </tr>\n            <tr>\n                <td>500X</td>\n                <td>Internal error - you don't need to contact me, I have been notified by the system</td>\n            </tr>\n            </tbody>\n        </table>\n\n        <ul>\n            <li>I have shared the glimpse link to Slack or somewhere else and it doesn't refresh after push - Many systems out there are caching images on their own servers. I have implemented standard cache control which Github follows well, but it is not guaranteed that others will.</li>\n        </ul>\n\n        <h4>Why?</h4>\n        <ul>\n            <li>Flutter Glimpse should make life easier for developers. Not having to keep updated screenshot/video assets within repository.</li>\n            <li>Personal frustration of having to clone and build each and every application just to see how it looks like.</li>\n            <li>Raise awareness/interest in integration tests. If you do write integration tests, you can have a video glimpse in your repo showcasing UI interactions and full journeys through the app.</li>\n        </ul>\n\n        <h4>How?</h4>\n        <p>First time someone views your app on Github, flutter-glimpse servers will be asked to provide the glimpse. Your app will be added to the queue and processed as soon as possible. During this process your app will be cloned, built locally and glimpse will be created. This process can take <strong>between couple of minutes up to an hour</strong> depending on number of jobs in the queue.</p>\n        <p>Glimpse is generated per combination of: <strong>repository, branch, commit, path, and target</strong>. If any of these values change it will be re-generated.</p>\n\n        <h4>Why would I not use CI instead?</h4>\n        <p>Of course you can, but you will have to setup the glimpse export and upload to Github by your self. Apart from that 99% of apps out there don't have/need CI. This project is mainly aimed at small POC apps that people publish for others to dig into.</p>\n\n        <h4>Isn't it quite difficult for you to process and store all the requests?</h4>\n        <p>You don't have to worry about that! Don't worry I am using the latest and best in cloud technology and most heavy lifting is on them.</p>\n\n        <h4>Do you support private repositories?</h4>\n        <p>Not at the moment, but if there is interest I can make it work. </p>\n\n        <h4>Is it free?</h4>\n        <p>YES. The basic usage of generating screenshot and video glimpse for public github repositories will be always free. I do have ideas for more sophisticated features which I would charge for.</p>\n\n        <h4>Can I automate the glimpse generating so people don't have to wait?</h4>\n        <p>Yes! You can add above links (minus the \"img\" tag) to your <a href=\"http://lmgtfy.com/?q=github+setup+wbhook\" target=\"_blank\">repository webhooks</a> and have the glimpse generated right away after every push. Using webhooks is strongly encouraged and I might \"lock\" the system in the future to accept re-generation of glimpses only through webhooks.</p>\n    </div>;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}